{"ast":null,"code":"var _jsxFileName = \"G:\\\\HK4\\\\fe\\\\src\\\\admin\\\\product\\\\EditProduct.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport AdminHeader from \"../page/AdminHeader\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function EditProduct() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const token = localStorage.getItem(\"adminToken\");\n  const [form, setForm] = useState({});\n  const [oldImages, setOldImages] = useState([]);\n  const [deleteImagesId, setDeleteImagesId] = useState([]);\n  const [newImages, setNewImages] = useState([]);\n  useEffect(() => {\n    axios.get(`http://localhost:8080/api/admin/products/${id}`, {\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    }).then(res => {\n      setForm(res.data.data);\n      setOldImages(res.data.data.images || []);\n    }).catch(console.error);\n  }, [id]);\n  const handleSubmit = async () => {\n    const data = new FormData();\n    Object.keys(form).forEach(key => data.append(key, form[key]));\n    deleteImagesId.forEach(img => data.append(\"deleteImagesId\", img));\n    newImages.forEach(img => data.append(\"images\", img));\n    await axios.put(`http://localhost:8080/api/admin/products/${id}`, data, {\n      headers: {\n        Authorization: \"Bearer \" + token,\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    });\n    alert(\"Cập nhật thành công\");\n    navigate(\"/admin/products\");\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(AdminHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: 70\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(EditProduct, \"ecOPwzdLOHKyotUfZEn/Yk3FTQQ=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = EditProduct;\nconst styles = {\n  wrapper: {\n    padding: 30,\n    maxWidth: 1200,\n    margin: \"auto\"\n  },\n  title: {\n    fontSize: 24,\n    marginBottom: 20\n  },\n  form: {\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(2, 1fr)\",\n    gap: 20,\n    background: \"#fff\",\n    padding: 20,\n    borderRadius: 10,\n    border: \"1px solid #eee\"\n  },\n  inputGroup: {\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  input: {\n    padding: 10,\n    border: \"1px solid #ccc\",\n    borderRadius: 6\n  },\n  textarea: {\n    width: \"100%\",\n    height: 120,\n    padding: 10,\n    border: \"1px solid #ccc\",\n    borderRadius: 6\n  },\n  sectionTitle: {\n    fontSize: 18,\n    marginTop: 25,\n    marginBottom: 10\n  },\n  imageContainer: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    gap: 15\n  },\n  imageBox: {\n    width: 150,\n    height: 150,\n    borderRadius: 8,\n    overflow: \"hidden\",\n    position: \"relative\",\n    background: \"#fafafa\",\n    border: \"1px solid #ddd\"\n  },\n  image: {\n    width: \"100%\",\n    height: \"100%\",\n    objectFit: \"cover\"\n  },\n  deleteBtn: {\n    position: \"absolute\",\n    top: 5,\n    right: 5,\n    background: \"rgba(0,0,0,0.55)\",\n    padding: 4,\n    borderRadius: \"50%\",\n    color: \"#fff\",\n    cursor: \"pointer\",\n    border: \"none\"\n  },\n  addImageBox: {\n    width: 160,\n    height: 160,\n    border: \"2px dashed #aaa\",\n    borderRadius: 8,\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    cursor: \"pointer\",\n    color: \"#333\",\n    marginBottom: 15\n  },\n  saveBtn: {\n    marginTop: 25,\n    padding: \"12px 25px\",\n    background: \"#ee4d2d\",\n    color: \"#fff\",\n    borderRadius: 6,\n    border: \"none\",\n    cursor: \"pointer\",\n    fontSize: 16\n  }\n};\nvar _c;\n$RefreshReg$(_c, \"EditProduct\");","map":{"version":3,"names":["React","useEffect","useState","axios","useParams","useNavigate","AdminHeader","jsxDEV","_jsxDEV","Fragment","_Fragment","EditProduct","_s","id","navigate","token","localStorage","getItem","form","setForm","oldImages","setOldImages","deleteImagesId","setDeleteImagesId","newImages","setNewImages","get","headers","Authorization","then","res","data","images","catch","console","error","handleSubmit","FormData","Object","keys","forEach","key","append","img","put","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","style","height","_c","styles","wrapper","padding","maxWidth","margin","title","fontSize","marginBottom","display","gridTemplateColumns","gap","background","borderRadius","border","inputGroup","flexDirection","input","textarea","width","sectionTitle","marginTop","imageContainer","flexWrap","imageBox","overflow","position","image","objectFit","deleteBtn","top","right","color","cursor","addImageBox","justifyContent","alignItems","saveBtn","$RefreshReg$"],"sources":["G:/HK4/fe/src/admin/product/EditProduct.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport AdminHeader from \"../page/AdminHeader\";\r\n\r\nexport default function EditProduct() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const token = localStorage.getItem(\"adminToken\");\r\n\r\n  const [form, setForm] = useState({});\r\n  const [oldImages, setOldImages] = useState([]);\r\n  const [deleteImagesId, setDeleteImagesId] = useState([]);\r\n  const [newImages, setNewImages] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`http://localhost:8080/api/admin/products/${id}`, {\r\n        headers: { Authorization: \"Bearer \" + token },\r\n      })\r\n      .then((res) => {\r\n        setForm(res.data.data);\r\n        setOldImages(res.data.data.images || []);\r\n      })\r\n      .catch(console.error);\r\n  }, [id]);\r\n\r\n  const handleSubmit = async () => {\r\n    const data = new FormData();\r\n\r\n    Object.keys(form).forEach((key) => data.append(key, form[key]));\r\n    deleteImagesId.forEach((img) => data.append(\"deleteImagesId\", img));\r\n    newImages.forEach((img) => data.append(\"images\", img));\r\n\r\n    await axios.put(\r\n      `http://localhost:8080/api/admin/products/${id}`,\r\n      data,\r\n      {\r\n        headers: {\r\n          Authorization: \"Bearer \" + token,\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      }\r\n    );\r\n\r\n    alert(\"Cập nhật thành công\");\r\n    navigate(\"/admin/products\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AdminHeader />\r\n      <div style={{ height: 70 }}></div>\r\n\r\n      {/* giữ nguyên UI bạn có */}\r\n    </>\r\n  );\r\n}\r\n\r\n\r\nconst styles = {\r\n  wrapper: { padding: 30, maxWidth: 1200, margin: \"auto\" },\r\n  title: { fontSize: 24, marginBottom: 20 },\r\n  form: {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"repeat(2, 1fr)\",\r\n    gap: 20,\r\n    background: \"#fff\",\r\n    padding: 20,\r\n    borderRadius: 10,\r\n    border: \"1px solid #eee\",\r\n  },\r\n  inputGroup: { display: \"flex\", flexDirection: \"column\" },\r\n  input: { padding: 10, border: \"1px solid #ccc\", borderRadius: 6 },\r\n  textarea: { width: \"100%\", height: 120, padding: 10, border: \"1px solid #ccc\", borderRadius: 6 },\r\n  sectionTitle: { fontSize: 18, marginTop: 25, marginBottom: 10 },\r\n  imageContainer: { display: \"flex\", flexWrap: \"wrap\", gap: 15 },\r\n  imageBox: { width: 150, height: 150, borderRadius: 8, overflow: \"hidden\", position: \"relative\", background: \"#fafafa\", border: \"1px solid #ddd\" },\r\n  image: { width: \"100%\", height: \"100%\", objectFit: \"cover\" },\r\n  deleteBtn: {\r\n    position: \"absolute\",\r\n    top: 5,\r\n    right: 5,\r\n    background: \"rgba(0,0,0,0.55)\",\r\n    padding: 4,\r\n    borderRadius: \"50%\",\r\n    color: \"#fff\",\r\n    cursor: \"pointer\",\r\n    border: \"none\",\r\n  },\r\n  addImageBox: {\r\n    width: 160,\r\n    height: 160,\r\n    border: \"2px dashed #aaa\",\r\n    borderRadius: 8,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    cursor: \"pointer\",\r\n    color: \"#333\",\r\n    marginBottom: 15,\r\n  },\r\n  saveBtn: {\r\n    marginTop: 25,\r\n    padding: \"12px 25px\",\r\n    background: \"#ee4d2d\",\r\n    color: \"#fff\",\r\n    borderRadius: 6,\r\n    border: \"none\",\r\n    cursor: \"pointer\",\r\n    fontSize: 16,\r\n  },\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}